class ItcCollapse {
  constructor(a, b, c) {
    (this._target = a), (this._duration = b), (this._trigger = c);
  }
  show() {
    let a = this._target,
      b = this._trigger;
    if (
      a.classList.contains("collapsing") ||
      a.classList.contains("collapse_show")
    )
      return;
    b.classList.add("trigger-active"), a.classList.remove("collapse");
    let c = a.offsetHeight;
    (a.style.height = 0),
      (a.style.overflow = "hidden"),
      (a.style.transition = `height ${this._duration}ms ease`),
      a.classList.add("collapsing"),
      a.offsetHeight,
      (a.style.height = `${c}px`),
      window.setTimeout(() => {
        a.classList.remove("collapsing"),
          a.classList.add("collapse"),
          a.classList.add("collapse_show"),
          (a.style.height = ""),
          (a.style.transition = ""),
          (a.style.overflow = "");
      }, this._duration);
  }
  hide() {
    let a = this._target,
      b = this._trigger;
    !a.classList.contains("collapsing") &&
      a.classList.contains("collapse_show") &&
      ((a.style.height = `${a.offsetHeight}px`),
      a.offsetHeight,
      (a.style.height = 0),
      (a.style.overflow = "hidden"),
      (a.style.transition = `height ${this._duration}ms ease`),
      a.classList.remove("collapse"),
      a.classList.remove("collapse_show"),
      a.classList.add("collapsing"),
      b.classList.remove("trigger-active"),
      window.setTimeout(() => {
        a.classList.remove("collapsing"),
          a.classList.add("collapse"),
          (a.style.height = ""),
          (a.style.transition = ""),
          (a.style.overflow = "");
      }, this._duration));
  }
  toggle() {
    this._target.classList.contains("collapse_show")
      ? this.hide()
      : this.show();
  }
}
function headerHandler() {
  let a = document.querySelector(".header__burger"),
    b = document.querySelector(".header__menu");
  a.addEventListener("click", function () {
    a.classList.toggle("header__burger_active"),
      b.classList.toggle("menu_active"),
      document.querySelector("body").classList.toggle("lock");
  });
}
function sliderInit() {
  document.querySelector(".intro__slider") &&
    new Swiper(".intro__slider", {
      slidesPerView: "auto",
      spaceBetween: 36,
      slidesPerGroup: 1,
      loop: !0,
      speed: 550,
      preloadImages: !1,
      lazy: { loadPrevNext: !0 },
      watchSlidesProgress: !0,
      navigation: { nextEl: ".intro__next", prevEl: ".intro__prev" },
      on: {
        afterInit(a) {
          a.el.classList.add("slider-initialized");
        },
      },
      breakpoints: { 300: { spaceBetween: 15 }, 768: { spaceBetween: 36 } },
    }),
    document.querySelector(".media-intro__slider") &&
      new Swiper(".media-intro__slider", {
        slidesPerView: 1,
        loop: !1,
        effect: "fade",
        fadeEffect: { crossFade: !0 },
        preloadImages: !1,
        lazy: { loadPrevNext: !0 },
        autoHeight: !0,
        speed: 400,
        simulateTouch: !1,
        navigation: {
          nextEl: ".media-intro__next",
          prevEl: ".media-intro__prev",
        },
        pagination: {
          el: ".media-intro__pagination",
          type: "bullets",
          clickable: !0,
        },
        on: {
          afterInit(a) {
            a.el.classList.add("slider-initialized");
          },
        },
      });
  let d = document.querySelectorAll(".media-photo__slider");
  if (d.length)
    for (let a = 0; a < d.length; a++) {
      let h = d[a],
        e = h.closest(".media-photo__wrapper"),
        n = e.querySelector(".media-photo__current"),
        o = e.querySelector(".media-photo__total"),
        i = `media-photo__slider_${a}`,
        f = `media-photo__wrapper_${a}`;
      e.classList.add(f),
        h.classList.add(i),
        new Swiper(`.${i}`, {
          slidesPerView: 4,
          loop: !1,
          spaceBetween: 40,
          slidesPerGroup: 4,
          speed: 800,
          autoHeight: !0,
          preloadImages: !1,
          lazy: { loadPrevNext: !0 },
          navigation: {
            nextEl: `.${f} .media-photo__arrow_next`,
            prevEl: `.${f} .media-photo__arrow_prev`,
          },
          on: {
            afterInit(a) {
              a.el.classList.add("slider-initialized"), r(a, n, o);
            },
            slideChange(a) {
              s(a, n);
            },
          },
          breakpoints: {
            300: { slidesPerView: 2, spaceBetween: 15, slidesPerGroup: 2 },
            768: { slidesPerView: 3, spaceBetween: 30, slidesPerGroup: 3 },
            992: { slidesPerView: 4, spaceBetween: 40, slidesPerGroup: 4 },
          },
        });
    }
  if (document.querySelector(".partners__slider")) {
    let j = document.querySelector(".partners__wrapper"),
      p = j.querySelector(".fraction__current"),
      q = j.querySelector(".fraction__total");
    new Swiper(".partners__slider", {
      slidesPerView: 4,
      loop: !1,
      spaceBetween: 30,
      slidesPerGroup: 4,
      speed: 800,
      navigation: {
        nextEl: ".partners__arrow_next",
        prevEl: ".partners__arrow_prev",
      },
      preloadImages: !1,
      lazy: { loadPrevNext: !0 },
      on: {
        afterInit(a) {
          a.el.classList.add("slider-initialized"), r(a, p, q);
        },
        slideChange(a) {
          s(a, p);
        },
      },
      breakpoints: {
        300: { slidesPerView: 1, spaceBetween: 15, slidesPerGroup: 1 },
        525: { slidesPerView: 2, spaceBetween: 20, slidesPerGroup: 2 },
        800: { slidesPerView: 3, spaceBetween: 20, slidesPerGroup: 3 },
        1100: { slidesPerView: 4, spaceBetween: 40, slidesPerGroup: 4 },
      },
    });
  }
  let g = document.querySelectorAll(".slider-competitions-news");
  if (g.length)
    for (let b = 0; b < g.length; b++) {
      let k = g[b],
        m = k.closest(".competitions-news__outer"),
        l = `slider-competitions-news_${b}`,
        c = `competitions-news__outer_${b}`;
      k.classList.add(l),
        m.classList.add(c),
        new Swiper(`.${l}`, {
          slidesPerView: 1,
          loop: !1,
          effect: "fade",
          fadeEffect: { crossFade: !0 },
          preloadImages: !1,
          lazy: { loadPrevNext: !0 },
          autoHeight: !0,
          speed: 400,
          simulateTouch: !1,
          navigation: {
            nextEl: `.${c} .competitions-news__next`,
            prevEl: `.${c} .competitions-news__prev`,
          },
          pagination: {
            el: `.${c} .competitions-news__pagination`,
            type: "bullets",
            clickable: !0,
          },
          on: {
            afterInit(a) {
              a.el.classList.add("slider-initialized");
            },
          },
        });
    }
  function r(a, b, c) {
    (b.textContent = 1),
      (c.textContent = Math.ceil(a.slides.length / a.params.slidesPerGroup));
  }
  function s(a, b) {
    let c = Math.ceil(a.realIndex / a.params.slidesPerGroup) + 1;
    b.textContent = c;
  }
  document.querySelector(".mediacenter__slider") &&
    new Swiper(".mediacenter__slider", {
      slidesPerView: 1,
      loop: !1,
      effect: "fade",
      fadeEffect: { crossFade: !0 },
      preloadImages: !1,
      lazy: { loadPrevNext: !0 },
      autoHeight: !0,
      speed: 400,
      simulateTouch: !1,
      navigation: {
        nextEl: ".mediacenter__arrow_next",
        prevEl: ".mediacenter__arrow_prev",
      },
      on: {
        afterInit(a) {
          a.el.classList.add("slider-initialized");
        },
      },
    });
}
function infocenterSlideAppearing() {
  let a = document.querySelectorAll(
    ".sidebar-infocenter__row.sidebar-infocenter__row_has-trigger"
  );
  if (a.length)
    for (let b = 0; b < a.length; b++) {
      let c = a[b],
        e = c.querySelector(".sidebar-infocenter__collapse"),
        d = c.querySelector(".sidebar-infocenter__trigger"),
        f = new ItcCollapse(e, 500, d);
      d.addEventListener("click", () => f.toggle());
    }
}
function lazyload() {
  let b = new IntersectionObserver(
      (a, b) => {
        a.forEach((c) => {
          if (c.isIntersecting) {
            let a = c.target;
            a.dataset.src
              ? ((a.src = a.dataset.src), a.removeAttribute("data-src"))
              : a.dataset.srcset &&
                ((a.srcset = a.dataset.srcset),
                a.removeAttribute("data-srcset")),
              (a.onload = () => {
                let b = a.closest(".lazy-image-wrapper") || a;
                b.classList.add("lazy-image-wrapper--loaded");
              }),
              b.unobserve(a);
          }
        });
      },
      { root: null, rootMargin: "0px", threshold: 0.05 }
    ),
    a = document.querySelectorAll(
      ".lazy-image-wrapper img[data-src], .lazy-image-wrapper source[data-srcset]"
    );
  a.forEach((a) => b.observe(a));
}
window.onload = function () {
  sliderInit(), headerHandler(), infocenterSlideAppearing(), lazyload();
};
